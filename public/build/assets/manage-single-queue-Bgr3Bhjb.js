import{U as j,m as f,j as e}from"./app-DegvsnWL.js";import{L as r,I as u,a as d}from"./label-YRqI-WM0.js";import{B as c}from"./button-DwcSvhwy.js";import{D as k,a as C,b as N}from"./dialog-DxiKq-6L.js";import{C as v}from"./checkbox-oDAJRBbY.js";import{L as q}from"./loader-circle-BiDlrjWI.js";const S=({userQueue:a,setIsUpdated:i})=>{const x=s=>{n.status=="completed"?l("status","queued"):l("status","completed")},[p,m]=j.useState(!1),{data:n,setData:l,post:h,processing:o,errors:t,clearErrors:b}=f({notes:(a==null?void 0:a.admin_notes)??"",id:a==null?void 0:a.id,status:(a==null?void 0:a.status)??"queued",queue_number:a==null?void 0:a.queue_number}),g=s=>{s.preventDefault(),h(route("admin.queue.update",a.id),{onSuccess:()=>{m(!1),i(!0)},preserveScroll:!0}),b()};return e.jsxs(k,{open:p,onOpenChange:m,children:[e.jsx(c,{className:"bg-black text-white hover:bg-gray",onClick:()=>m(!0),children:"Manage"}),e.jsxs(C,{className:"dark:bg-white dark:text-black",children:[e.jsx(N,{children:"Add your name on queue"}),e.jsxs("form",{className:"flex flex-col gap-6",onSubmit:g,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(r,{htmlFor:"name",children:"Current Queue"})}),e.jsx(u,{id:"queue_number",className:"mt-4 block  w-full rounded-md border-gray-300 p-3 shadow-sm sm:text-sm",value:n.queue_number,onChange:s=>l("queue_number",parseInt(s.target.value)),required:!0,type:"number",tabIndex:1,autoComplete:"current-name",placeholder:"Queue Number"}),t.queue_number&&e.jsx(d,{message:t==null?void 0:t.queue_number})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(r,{htmlFor:"name",children:"Notes"})}),e.jsx("textarea",{id:"name",className:"mt-4 block h-30 w-full rounded-md border-gray-300 p-3 shadow-sm sm:text-sm",value:n.notes,onChange:s=>l("notes",s.target.value),tabIndex:1,autoComplete:"current-name",placeholder:"Message"}),t.notes&&e.jsx(d,{message:t==null?void 0:t.notes})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v,{id:"status",name:"status",checked:n.status==="completed",disabled:o,onClick:s=>x(),tabIndex:3}),e.jsx(r,{htmlFor:"status",children:"Marked as complete"})]}),e.jsxs(c,{type:"submit",className:" hover:bg-gray bg-black text-white mt-4 w-full",tabIndex:4,disabled:o,children:[o&&e.jsx(q,{className:"h-4 w-4 animate-spin"}),"Update"]})]})]})]})};export{S as M};
