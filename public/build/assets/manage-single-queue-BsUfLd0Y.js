import{U as f,m as u,j as e}from"./app-ptfuxsuZ.js";import{I as d}from"./input-error-jD5LXKIU.js";import{B as r}from"./button-DoRJa8hf.js";import{D as q,a as N,b as v}from"./dialog-Bz9TTEf3.js";import{L as i,I as c}from"./label-DbIRzJ6h.js";import{C as b}from"./checkbox-BU7LmDDf.js";import{L as k}from"./loader-circle-VxtkwHD7.js";const S=({userQueue:a,setIsUpdated:x})=>{const h=()=>{s.status=="completed"?l("status","queued"):l("status","completed")},[p,m]=f.useState(!1),{data:s,setData:l,post:g,processing:o,errors:t,clearErrors:j}=u({notes:(a==null?void 0:a.admin_notes)??"",id:a==null?void 0:a.id,status:(a==null?void 0:a.status)??"queued",queue_number:a==null?void 0:a.queue_number,is_boosted:a==null?void 0:a.is_boosted,initial_queue_number:a==null?void 0:a.initial_queue_number}),_=n=>{n.preventDefault(),g(route("admin.queue.update",a.id),{onSuccess:()=>{m(!1),x(!0)},preserveScroll:!0}),j()};return e.jsxs(q,{open:p,onOpenChange:m,children:[e.jsx(r,{className:"bg-black text-white hover:bg-gray",onClick:()=>m(!0),children:"Manage"}),e.jsxs(N,{className:"dark:bg-white dark:text-black",children:[e.jsx(v,{children:"Manage queue"}),e.jsxs("form",{className:"flex flex-col gap-6",onSubmit:_,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(i,{htmlFor:"name",children:"ID "})}),e.jsx(c,{id:"initial_queue_number",className:"mt-4 block  w-full rounded-md border-gray-300 p-3 shadow-sm sm:text-sm",value:s.initial_queue_number,onChange:n=>l("initial_queue_number",parseInt(n.target.value)),required:!0,type:"number",tabIndex:1,autoComplete:"current-name",placeholder:"Queue Number"}),t.initial_queue_number&&e.jsx(d,{message:t==null?void 0:t.initial_queue_number})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(i,{htmlFor:"name",children:"Current Queue"})}),e.jsx(c,{id:"queue_number",className:"mt-4 block  w-full rounded-md border-gray-300 p-3 shadow-sm sm:text-sm",value:s.queue_number,onChange:n=>l("queue_number",parseInt(n.target.value)),required:!0,type:"number",tabIndex:1,autoComplete:"current-name",placeholder:"Queue Number"}),t.queue_number&&e.jsx(d,{message:t==null?void 0:t.queue_number})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(i,{htmlFor:"name",children:"Notes"})}),e.jsx("textarea",{id:"name",className:"mt-4 block h-30 w-full rounded-md border-gray-300 p-3 shadow-sm sm:text-sm",value:s.notes,onChange:n=>l("notes",n.target.value),tabIndex:1,autoComplete:"current-name",placeholder:"Message"}),t.notes&&e.jsx(d,{message:t==null?void 0:t.notes})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(b,{id:"is_boosted",name:"is_boosted",checked:s.is_boosted,onClick:()=>l("is_boosted",!s.is_boosted),tabIndex:3}),e.jsx(i,{htmlFor:"is_boosted",children:"Boosted?"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(b,{id:"status",name:"status",checked:s.status==="completed",disabled:o,onClick:()=>h(),tabIndex:3}),e.jsx(i,{htmlFor:"status",children:"Marked as complete"})]}),e.jsxs(r,{type:"submit",className:" hover:bg-gray bg-black text-white mt-4 w-full",tabIndex:4,disabled:o,children:[o&&e.jsx(k,{className:"h-4 w-4 animate-spin"}),"Update"]})]})]})]})};export{S as M};
