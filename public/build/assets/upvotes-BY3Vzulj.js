import{r as a,g as f,K as x,V as u,S as o,j as e,L as j}from"./app-WI0aI_pZ.js";import{P as y}from"./pagination-CGxEKRCV.js";import{G as b,A as S,Q as v}from"./guest-layout-QeW7swAq.js";import{I as P}from"./label-CUc0U5gJ.js";/* empty css            */import"./button-Co3qasKf.js";import"./input-error-CtDjacm-.js";import"./dialog-BUMBttzx.js";import"./index-CbrH6uOr.js";import"./createLucideIcon-BYKvD_Cm.js";import"./index-y-r2VE-L.js";import"./index-DJLYVUPR.js";import"./loader-circle-BXQGo-9E.js";function O({userQueues:s,currentUserQueueNumber:c=0}){var p;const[n,h]=a.useState(""),[i,m]=a.useState(1),l=a.useRef(i);l.current=i,f(4e3,()=>{o.get(route("home"),{search:n,page:l.current},{only:["userQueues"]})});const{flash:r}=x().props;a.useEffect(()=>{var t;(t=r==null?void 0:r.message)!=null&&t.success&&u.success(r.message.success,{duration:2e3})},[r]),a.useEffect(()=>{var t;(t=r==null?void 0:r.message)!=null&&t.error&&u.error(r.message.error,{duration:2e3})},[r]),a.useEffect(()=>{const t=setTimeout(()=>{m(1),o.get(route("home"),{search:n,page:1},{preserveState:!0,replace:!0})},500);return()=>clearTimeout(t)},[n]);const d=t=>{const g=new URL(t,window.location.origin).searchParams.get("page")||"1";m(Number(g)),o.get(route("home"),{search:n,page:Number(g)},{preserveState:!0,preserveScroll:!0,replace:!0})};return e.jsxs(b,{guestName:"",children:[e.jsxs(j,{title:"Home",children:[e.jsx("link",{rel:"preconnect",href:"https://fonts.bunny.net"}),e.jsx("link",{href:"https://fonts.bunny.net/css?family=instrument-sans:400,500,600",rel:"stylesheet"})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 text-[#1b1b18]",children:e.jsxs(e.Fragment,{children:[c>0&&e.jsxs(e.Fragment,{children:["queue number: ",c]}),e.jsx("div",{className:"my-4 flex w-full justify-center md:my-0 md:justify-end",children:e.jsx(S,{})}),e.jsx("div",{children:e.jsx(P,{placeholder:"Search username",className:"bg-white text-[#1b1b18]",value:n,onChange:t=>h(t.target.value)})}),e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"my-4 grid w-full gap-4",children:((p=s==null?void 0:s.data)==null?void 0:p.length)>0&&s.data.map(t=>e.jsx(v,{userQueue:t}))}),e.jsx(y,{links:s==null?void 0:s.links,onPageChange:d})]})]})})]})}export{O as default};
