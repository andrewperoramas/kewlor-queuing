import{U as y,m as E,j as e,K as w,r as c,g as C,V as j,S as h,L as S}from"./app-ptfuxsuZ.js";import{I as m}from"./input-error-jD5LXKIU.js";import{B as v,c as k,S as O,a as F}from"./button-DoRJa8hf.js";import{D,a as L,b as I}from"./dialog-Bz9TTEf3.js";import{L as p,I as b}from"./label-DbIRzJ6h.js";import{L as q}from"./loader-circle-VxtkwHD7.js";import{P as T}from"./pagination-DNDypqWg.js";import{c as _}from"./createLucideIcon-BGnwsFzt.js";/* empty css            */import"./index-P_H9BUpI.js";import"./index-Bo6pH1XX.js";import"./index-BRPub5uq.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],P=_("Flame",R),U=()=>{const[a,r]=y.useState(!1),{data:n,setData:i,post:o,processing:d,errors:t,reset:l,clearErrors:g}=E({message:"",email:"",name:""}),x=s=>{s.preventDefault(),o(route("queue.store"),{onSuccess:()=>{r(!1)}}),l(),g()};return e.jsxs(D,{open:a,onOpenChange:r,children:[e.jsx(v,{className:"font-bold bg-black font-open text-white hover:bg-gray",onClick:()=>r(!0),children:"ADD YOUR NAME TO THE QUEUE"}),e.jsxs(L,{className:"dark:bg-white dark:text-black",children:[e.jsx(I,{children:"Add your name on queue"}),e.jsxs("form",{className:"flex flex-col gap-6",onSubmit:x,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(p,{htmlFor:"name",children:"Request"})}),e.jsxs("div",{className:"grid gap-2 mt-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(p,{htmlFor:"name",children:"Tiktok Username"})}),e.jsx(b,{id:"name",type:"text",required:!0,tabIndex:1,autoComplete:"current-name",className:"border-0 shadow-sm",value:n.name,onChange:s=>i("name",s.target.value),placeholder:"Name"}),e.jsx(m,{message:t.name})]}),e.jsx("textarea",{id:"name",className:"mt-4 block h-30 w-full rounded-md border-gray-300 p-3 shadow-sm sm:text-sm",value:n.message,onChange:s=>i("message",s.target.value),required:!0,tabIndex:1,autoComplete:"current-name",placeholder:"Message"}),t.message&&e.jsx(m,{message:t==null?void 0:t.message}),t.email&&e.jsx(m,{message:t==null?void 0:t.email}),t.name&&e.jsx(m,{message:t==null?void 0:t.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"email",children:"Email address (Optional)"}),e.jsx(b,{id:"email",type:"email",autoFocus:!0,tabIndex:2,className:"border-0 shadow-sm",autoComplete:"email",value:n.email,onChange:s=>i("email",s.target.value),placeholder:"email@example.com"}),e.jsx(m,{message:t.email})]}),e.jsxs(v,{type:"submit",className:" hover:bg-gray bg-black text-white mt-4 w-full",tabIndex:4,disabled:d,children:[d&&e.jsx(q,{className:"h-4 w-4 animate-spin"}),"Join"]})]})]})]})};function V({className:a,...r}){return e.jsx("div",{"data-slot":"card",className:k("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...r})}const M=F("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-auto",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function N({className:a,variant:r,asChild:n=!1,...i}){const o=n?O:"span";return e.jsx(o,{"data-slot":"badge",className:k(M({variant:r}),a),...i})}const A=({children:a,guestName:r})=>{const i=w().props.settings??{date:"2024-01-01",schedule:"9am - 5pm"};return e.jsx("div",{className:"bg-white h-screen text-black",children:e.jsxs("div",{className:"max-w-[1360px] w-full mx-auto",children:[e.jsxs("div",{className:"flex pt-8 justify-between",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("img",{src:"/kewlor.jpeg",className:"w-24 rounded-full",alt:"logo"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-[700] font-open",children:"WELCOME TO"}),e.jsx("h1",{className:"text-3xl font-open bg-black text-center text-white font-extrabold",children:"KEWLOR'S"}),e.jsx("h2",{className:"text-2xl font-[700] font-open",children:"TIKTOK LIVE"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xl",children:r&&e.jsxs(e.Fragment,{children:["Hi ",r]})}),e.jsx("h1",{className:"font-bold dont-open text-2xl",children:i.date}),e.jsx("h1",{className:"font-bold font-open text-2xl",children:i.schedule})]})]}),a]})})};function ee({userQueues:a,currentUserQueueNumber:r=0}){var x;const[n,i]=c.useState(""),[o,d]=c.useState(1),t=c.useRef(o);t.current=o,C(4e3,()=>{h.get(route("home"),{search:n,page:t.current},{preserveState:!0,replace:!0,only:["userQueues"]})});const{flash:l}=w().props;c.useEffect(()=>{var s;(s=l==null?void 0:l.message)!=null&&s.success&&j.success(l.message.success,{duration:2e3})},[l]),c.useEffect(()=>{var s;(s=l==null?void 0:l.message)!=null&&s.error&&j.error(l.message.error,{duration:2e3})},[l]),c.useEffect(()=>{const s=setTimeout(()=>{d(1),h.get(route("home"),{search:n,page:1},{preserveState:!0,replace:!0})},500);return()=>clearTimeout(s)},[n]);const g=s=>{const f=new URL(s,window.location.origin).searchParams.get("page")||"1";d(Number(f)),h.get(route("home"),{search:n,page:Number(f)},{preserveState:!0,replace:!0})};return e.jsxs(A,{guestName:"",children:[e.jsxs(S,{title:"Home",children:[e.jsx("link",{rel:"preconnect",href:"https://fonts.bunny.net"}),e.jsx("link",{href:"https://fonts.bunny.net/css?family=instrument-sans:400,500,600",rel:"stylesheet"})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 bg-[#FDFDFC] text-[#1b1b18]",children:e.jsxs(e.Fragment,{children:[r>0&&e.jsxs(e.Fragment,{children:["queue number: ",r]}),e.jsx("div",{className:"w-full flex justify-end",children:e.jsx(U,{})}),e.jsx("div",{children:e.jsx(b,{placeholder:"Search username",value:n,onChange:s=>i(s.target.value)})}),e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"my-4 grid w-full gap-4",children:((x=a==null?void 0:a.data)==null?void 0:x.length)>0&&a.data.map((s,u)=>e.jsxs(V,{className:`
                                            relative
                                            ${s.is_boosted&&"bg-violet-500"}
                                            ${s.status==="completed"?"bg-green-200":"bg-white"}
                                            border-0
                                        `,children:[s.queue_number!==0&&e.jsxs("div",{className:"absolute bottom-0 right-0 mr-10 font-extrabold font-open px-4 bg-black text-white text-red-500",children:["QUEUE NUMBER: ",s.queue_number]}),s.status==="completed"&&e.jsx("div",{className:"absolute bottom-0 right-0 mr-10 font-extrabold font-open px-4 bg-green-600 text-white text-red-500",children:"DONE"}),e.jsxs("div",{className:"grid md:grid-cols-3 grid-cols-1 items-center",children:[e.jsxs("div",{className:"pl-4 flex",children:[e.jsxs(N,{className:"mr-2 bg-black text-white",children:["#",s.initial_queue_number]}),s.is_boosted&&e.jsxs(N,{className:"mr-2 bg-violet-500 text-white",children:[e.jsx(P,{className:"text-orange-300"})," BOOSTED"]}),e.jsx("span",{className:"text-black",children:s.name})]}),s.message&&e.jsxs("div",{className:"pl-4",children:[e.jsx("h3",{className:"mr-2 inline-block text-black mb-0.5 text-base font-medium",children:"Message:"}),e.jsx("p",{className:"inline-block text-muted-foreground text-sm",children:s.message})]}),s.admin_notes&&e.jsxs("div",{className:"pl-4",children:[e.jsx("h3",{className:"inline-block mr-2 text-black mb-0.5 text-base font-medium",children:"Notes"}),e.jsx("p",{className:"inline-block text-muted-foreground text-sm",children:s.admin_notes})]})]})]},u))}),e.jsx(T,{links:a==null?void 0:a.links,onPageChange:g})]})]})})]})}export{ee as default};
