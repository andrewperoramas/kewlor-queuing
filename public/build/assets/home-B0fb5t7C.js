import{U as y,m as S,j as e,K as w,$ as b,r as c,g as _,V as j,S as g,L as C}from"./app-xTOUjmwz.js";import{I as m}from"./input-error-CAL7H4Zt.js";import{B as v,c as k,S as E,a as q}from"./button-CdSH-QJU.js";import{D as O,a as I,b as L}from"./dialog-qctWP9oa.js";import{L as p,I as f}from"./label-D_a1b80X.js";import{L as D}from"./loader-circle-DvqxNOSy.js";import{P as F}from"./pagination-D78SYz4J.js";import{c as P}from"./createLucideIcon-DRJY70a3.js";/* empty css            */import"./index-BumEGJA1.js";import"./index-BdPNvnru.js";import"./index-DIzOCIPG.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],R=P("Flame",T),V=()=>{const[t,r]=y.useState(!1),{data:n,setData:i,post:o,processing:d,errors:a,reset:l,clearErrors:h}=S({message:"",email:"",name:""}),x=s=>{s.preventDefault(),o(route("queue.store"),{onSuccess:()=>{r(!1)}}),l(),h()};return e.jsxs(O,{open:t,onOpenChange:r,children:[e.jsx(v,{className:"font-bold bg-black font-open text-white hover:bg-gray",onClick:()=>r(!0),children:"ADD YOUR NAME TO THE QUEUE"}),e.jsxs(I,{className:"dark:bg-white dark:text-black",children:[e.jsx(L,{children:"Add your name on queue"}),e.jsxs("form",{className:"flex flex-col gap-6",onSubmit:x,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(p,{htmlFor:"name",children:"Request"})}),e.jsxs("div",{className:"grid gap-2 mt-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(p,{htmlFor:"name",children:"Tiktok Username"})}),e.jsx(f,{id:"name",type:"text",required:!0,tabIndex:1,autoComplete:"current-name",className:"border-0 shadow-sm",value:n.name,onChange:s=>i("name",s.target.value),placeholder:"Name"}),e.jsx(m,{message:a.name})]}),e.jsx("textarea",{id:"name",className:"mt-4 block h-30 w-full rounded-md border-gray-300 p-3 shadow-sm sm:text-sm",value:n.message,onChange:s=>i("message",s.target.value),required:!0,tabIndex:1,autoComplete:"current-name",placeholder:"Message"}),a.message&&e.jsx(m,{message:a==null?void 0:a.message}),a.email&&e.jsx(m,{message:a==null?void 0:a.email}),a.name&&e.jsx(m,{message:a==null?void 0:a.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"email",children:"Email address (Optional)"}),e.jsx(f,{id:"email",type:"email",autoFocus:!0,tabIndex:2,className:"border-0 shadow-sm",autoComplete:"email",value:n.email,onChange:s=>i("email",s.target.value),placeholder:"email@example.com"}),e.jsx(m,{message:a.email})]}),e.jsxs(v,{type:"submit",className:" hover:bg-gray bg-black text-white mt-4 w-full",tabIndex:4,disabled:d,children:[d&&e.jsx(D,{className:"h-4 w-4 animate-spin"}),"Join"]})]})]})]})},A=({children:t,guestName:r})=>{const i=w().props.settings??{date:"2024-01-01",schedule:"9am - 5pm"};return e.jsx("div",{className:"  text-black",children:e.jsxs("div",{className:"max-w-[1360px] w-full mx-auto",children:[e.jsxs("div",{className:"flex pt-8 justify-between",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("img",{src:"/kewlor.jpeg",className:"w-24 rounded-full",alt:"logo"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-[700] font-open",children:"WELCOME TO"}),e.jsx("h1",{className:"text-3xl font-open bg-black text-center text-white font-extrabold",children:"KEWLOR'S"}),e.jsx("h2",{className:"text-2xl font-[700] font-open",children:"TIKTOK LIVE"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xl",children:r&&e.jsxs(e.Fragment,{children:["Hi ",r]})}),e.jsx("h1",{className:"font-bold dont-open text-2xl",children:i.date}),e.jsx("h1",{className:"font-bold font-open text-2xl",children:i.schedule})]})]}),t]})})};function B({className:t,...r}){return e.jsx("div",{"data-slot":"card",className:k("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}const M=q("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-auto",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function N({className:t,variant:r,asChild:n=!1,...i}){const o=n?E:"span";return e.jsx(o,{"data-slot":"badge",className:k(M({variant:r}),t),...i})}const K=({userQueue:t})=>e.jsxs(B,{className:`
                                            relative
                                            ${t.is_boosted&&"bg-violet-500"}
                                            ${t.status==="completed"?"bg-green-200":t.status==="skipped"&&t.queue_number===0?"bg-gray-200 text-white":"bg-white"}
                                            border-0
                    py-2
                                        `,children:[t.status==="skipped"&&t.queue_number===0&&e.jsx("div",{className:"absolute bottom-0 right-0 mr-10 font-extrabold font-open px-4 bg-gray-300 text-white text-red-500",children:"SKIPPED"}),t.status==="completed"&&e.jsx("div",{className:"absolute bottom-0 right-0 mr-10 font-extrabold font-open px-4 bg-green-600 text-xs text-white text-red-500",children:"DONE"}),e.jsxs("div",{className:"grid md:grid-cols-[300px_1fr_1fr_130px] mt-1 grid-cols-1 ",children:[e.jsxs("div",{className:"pl-4 flex flex-wrap",children:[e.jsxs(N,{className:"mr-2 bg-black h-9 font-bold rounded-xl text-lg px-3  text-white",children:["#",t.queue_number]}),t.is_boosted&&e.jsxs(N,{className:"mr-2 font-bold rounded-xl bg-violet-500 h-9 px-2 text-white",children:[e.jsx(R,{className:"text-orange-300"})," BOOSTED"]}),e.jsx("span",{className:"text-black h-8 mt-1",children:t.name})]}),t.message&&e.jsxs("div",{className:"pl-4",children:[e.jsx("h3",{className:"mr-2 inline-block text-black mb-0.5 text-base font-medium",children:"Your Prompt:"}),e.jsx("p",{className:"inline-block text-muted-foreground text-sm",children:t.message})]}),e.jsx("div",{className:"pl-4",children:t.admin_notes&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"inline-block mr-2 text-black mb-0.5 text-base font-medium",children:"Notes"}),e.jsx("p",{className:"inline-block text-muted-foreground text-sm",children:t.admin_notes})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:" flex font-extrabold font-open px-4  text-black space-x-2",children:[e.jsxs(b,{method:"post",preserveState:!0,preserveScroll:!0,className:"flex items-center space-x-2",href:route("queue.like",{user_queue_id:t.id}),children:[" ",e.jsxs("span",{children:[" ",t.likes_count," "]})," ",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",width:"24",height:"24","stroke-width":"2","stroke-linejoin":"round","stroke-linecap":"round",stroke:"currentColor",children:e.jsx("path",{d:"M7 11v8a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1v-7a1 1 0 0 1 1 -1h3a4 4 0 0 0 4 -4v-1a2 2 0 0 1 4 0v5h3a2 2 0 0 1 2 2l-1 5a2 3 0 0 1 -2 2h-7a3 3 0 0 1 -3 -3"})})]}),e.jsxs(b,{method:"post",preserveState:!0,preserveScroll:!0,className:"flex items-center space-x-2",href:route("queue.dislike",{user_queue_id:t.id}),children:[e.jsxs("span",{children:[" ",t.dislikes_count," "]})," ",e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round",width:"24",height:"24","stroke-width":"2",children:[" ",e.jsx("path",{d:"M7 13v-8a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1v7a1 1 0 0 0 1 1h3a4 4 0 0 1 4 4v1a2 2 0 0 0 4 0v-5h3a2 2 0 0 0 2 -2l-1 -5a2 3 0 0 0 -2 -2h-7a3 3 0 0 0 -3 3"})," "]})," "]})]}),t.queue_number!==0&&e.jsx("div",{className:"px-4 text-[#028a85] ",children:e.jsxs("p",{className:"text-sm font-thin",children:["ORIGINAL# ",t.initial_queue_number]})})]})]})]},t.id);function se({userQueues:t,currentUserQueueNumber:r=0}){var x;const[n,i]=c.useState(""),[o,d]=c.useState(1),a=c.useRef(o);a.current=o,_(4e3,()=>{g.get(route("home"),{search:n,page:a.current},{only:["userQueues"]})});const{flash:l}=w().props;c.useEffect(()=>{var s;(s=l==null?void 0:l.message)!=null&&s.success&&j.success(l.message.success,{duration:2e3})},[l]),c.useEffect(()=>{var s;(s=l==null?void 0:l.message)!=null&&s.error&&j.error(l.message.error,{duration:2e3})},[l]),c.useEffect(()=>{const s=setTimeout(()=>{d(1),g.get(route("home"),{search:n,page:1},{preserveState:!0,replace:!0})},500);return()=>clearTimeout(s)},[n]);const h=s=>{const u=new URL(s,window.location.origin).searchParams.get("page")||"1";d(Number(u)),g.get(route("home"),{search:n,page:Number(u)},{preserveState:!0,preserveScroll:!0,replace:!0})};return e.jsxs(A,{guestName:"",children:[e.jsxs(C,{title:"Home",children:[e.jsx("link",{rel:"preconnect",href:"https://fonts.bunny.net"}),e.jsx("link",{href:"https://fonts.bunny.net/css?family=instrument-sans:400,500,600",rel:"stylesheet"})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2  text-[#1b1b18]",children:e.jsxs(e.Fragment,{children:[r>0&&e.jsxs(e.Fragment,{children:["queue number: ",r]}),e.jsx("div",{className:"w-full flex justify-end",children:e.jsx(V,{})}),e.jsx("div",{children:e.jsx(f,{placeholder:"Search username",className:"text-white",value:n,onChange:s=>i(s.target.value)})}),e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"my-4 grid w-full gap-4",children:((x=t==null?void 0:t.data)==null?void 0:x.length)>0&&t.data.map(s=>e.jsx(K,{userQueue:s}))}),e.jsx(F,{links:t==null?void 0:t.links,onPageChange:h})]})]})})]})}export{se as default};
