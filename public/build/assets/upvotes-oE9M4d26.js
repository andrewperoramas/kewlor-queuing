import{r as a,g as h,K as x,V as u,S as o,j as e,L as j}from"./app-CLWHAQlS.js";import{P as y}from"./pagination-DEXmHZ3U.js";import{G as b,A as v,Q as S}from"./guest-layout-B4evPiCU.js";import{I as P}from"./label-BkTK0ADh.js";/* empty css            */import"./button-Dq_UI-CO.js";import"./createLucideIcon-DmrxpJky.js";import"./input-error-jQ5SxcH-.js";import"./dialog-D_kDodIv.js";import"./index-DP1IZgwR.js";import"./index-Cvx7t35t.js";import"./index-Du6FFguT.js";import"./loader-circle-BEPeZMQi.js";function O({userQueues:s,currentUserQueueNumber:c=0}){var p;const[n,d]=a.useState(""),[i,m]=a.useState(1),l=a.useRef(i);l.current=i,h(4e3,()=>{o.get(route("upvotes"),{search:n,page:l.current},{only:["userQueues"]})});const{flash:r}=x().props;a.useEffect(()=>{var t;(t=r==null?void 0:r.message)!=null&&t.success&&u.success(r.message.success,{duration:2e3})},[r]),a.useEffect(()=>{var t;(t=r==null?void 0:r.message)!=null&&t.error&&u.error(r.message.error,{duration:2e3})},[r]),a.useEffect(()=>{const t=setTimeout(()=>{m(1),o.get(route("upvotes"),{search:n,page:1},{preserveState:!0,replace:!0})},500);return()=>clearTimeout(t)},[n]);const f=t=>{const g=new URL(t,window.location.origin).searchParams.get("page")||"1";m(Number(g)),o.get(route("upvotes"),{search:n,page:Number(g)},{preserveState:!0,preserveScroll:!0,replace:!0})};return e.jsxs(b,{guestName:"",children:[e.jsxs(j,{title:"Home",children:[e.jsx("link",{rel:"preconnect",href:"https://fonts.bunny.net"}),e.jsx("link",{href:"https://fonts.bunny.net/css?family=instrument-sans:400,500,600",rel:"stylesheet"})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 text-[#1b1b18]",children:e.jsxs(e.Fragment,{children:[c>0&&e.jsxs(e.Fragment,{children:["queue number: ",c]}),e.jsx("div",{className:"my-4 flex w-full justify-center md:my-0 md:justify-end",children:e.jsx(v,{})}),e.jsx("div",{children:e.jsx(P,{placeholder:"Search username",className:"bg-white text-[#1b1b18]",value:n,onChange:t=>d(t.target.value)})}),e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"my-4 grid w-full gap-4",children:((p=s==null?void 0:s.data)==null?void 0:p.length)>0&&s.data.map(t=>e.jsx(S,{userQueue:t}))}),e.jsx(y,{links:s==null?void 0:s.links,onPageChange:f})]})]})})]})}export{O as default};
