import{r as a,g as x,K as f,V as d,S as o,j as e,L as j}from"./app-7wvCHzF6.js";import{P as b}from"./pagination-Cseagalj.js";import{G as y,A as S,Q as v}from"./guest-layout-D10KYA1J.js";import{I as P}from"./label-DbCp_w7M.js";/* empty css            */import"./button-CstYnibd.js";import"./input-error-BElSaV0J.js";import"./dialog-CnHvweXK.js";import"./index-vKlhla26.js";import"./createLucideIcon-BuviApcR.js";import"./index-DzO13d_E.js";import"./index-CN7WLaEQ.js";import"./loader-circle-DrdJn7ia.js";function O({userQueues:s,currentUserQueueNumber:c=0}){var p;const[n,u]=a.useState(""),[i,m]=a.useState(1),l=a.useRef(i);l.current=i,x(4e3,()=>{o.get(route("home"),{search:n,page:l.current},{only:["userQueues"]})});const{flash:r}=f().props;a.useEffect(()=>{var t;(t=r==null?void 0:r.message)!=null&&t.success&&d.success(r.message.success,{duration:2e3})},[r]),a.useEffect(()=>{var t;(t=r==null?void 0:r.message)!=null&&t.error&&d.error(r.message.error,{duration:2e3})},[r]),a.useEffect(()=>{const t=setTimeout(()=>{m(1),o.get(route("home"),{search:n,page:1},{preserveState:!0,replace:!0})},500);return()=>clearTimeout(t)},[n]);const h=t=>{const g=new URL(t,window.location.origin).searchParams.get("page")||"1";m(Number(g)),o.get(route("home"),{search:n,page:Number(g)},{preserveState:!0,preserveScroll:!0,replace:!0})};return e.jsxs(y,{guestName:"",children:[e.jsxs(j,{title:"Home",children:[e.jsx("link",{rel:"preconnect",href:"https://fonts.bunny.net"}),e.jsx("link",{href:"https://fonts.bunny.net/css?family=instrument-sans:400,500,600",rel:"stylesheet"})]}),e.jsx("div",{className:"flex flex-col items-center justify-center gap-2 text-[#1b1b18]",children:e.jsxs(e.Fragment,{children:[c>0&&e.jsxs(e.Fragment,{children:["queue number: ",c]}),e.jsx("div",{className:"my-4 flex w-full justify-center md:my-0 md:justify-end",children:e.jsx(S,{})}),e.jsx("div",{children:e.jsx(P,{placeholder:"Search username",className:"bg-white text-[#1b1b18]",value:n,onChange:t=>u(t.target.value)})}),e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"my-4 grid w-full gap-4",children:((p=s==null?void 0:s.data)==null?void 0:p.length)>0?s.data.map(t=>e.jsx(v,{userQueue:t})):e.jsx(e.Fragment,{children:e.jsx("p",{className:"text-center text-xl font-bold",children:"User not found."})})}),e.jsx(b,{links:s==null?void 0:s.links,onPageChange:h})]})]})})]})}export{O as default};
